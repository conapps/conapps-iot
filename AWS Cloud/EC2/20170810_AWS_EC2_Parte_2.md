| [< Anterior](https://github.com/conapps/conapps-iot/blob/master/AWS%20Cloud/EC2/20170814_AWS_EC2.md) | [Siguiente >](https://github.com/conapps/conapps-iot/blob/master/AWS%20Cloud/S3/20170812_AWS_S3_Parte_3.md) |

---
### Opciones de Pago
* Instancias Bajo Demanda
    Son las instancias de EC2 que puede iniciar en cualquier momento y tenerlo aprovisionado y disponible en cuestión de minutos. 
    
    Se puede usar esta instancia por un tiempo más corto o por el tiempo que se necesite antes de finalizar la instancia. 
    
    Estas instancias tienen una tasa fija y se determina en el tipo de instancia seleccionado y se paga por hora. 
    
    Las instancias bajo demanda se usan típicamente para usos a corto plazo donde las cargas de trabajo pueden ser irregulares y donde la carga de trabajo no puede interrumpirse. 
    
    Muchos usuarios de AWS utilizan instancias bajo demanda dentro de sus entornos de pruebas y desarrollo.


* Instancias Reservadas

    Las instancias reservadas permiten comprar un tipo de instancia durante un período de tiempo determinado a cambio de un costo reducido en comparación con la demanda. 
    
    Esta reducción puede ser hasta el 75%. Estas reservas contra las instancias deben ser compradas en plazos de uno o tres años. 
    
    Se pueden conseguir reducciones adicionales con instancias reservadas, dependiendo de los métodos de pago que seleccione. 

    Dentro de las Instancias Reservadas, existen las siguientes opciones de pago:
    
    * Todo por adelantado.
        
        El pago completo de la reserva de uno o tres años se paga. Esto ofrece el descuento más grande y no se requiere ningún pago adicional, independientemente del número de horas que la instancia se use. 

    * Pago parcial por adelantado.
    
        Se hace un pago inicial más pequeño y, a continuación, se aplica un descuento a cualquier hora utilizada por la instancia durante el plazo. No se realizan pagos iniciales o parciales y el menor descuento de los tres modelos se aplica a cualquier hora utilizada por la instancia. 

        Las instancias reservadas se utilizan para cargas de trabajo previsibles a largo plazo, lo que le permite aprovechar al máximo los ahorros.


* Spot

    Las instancias Spot permiten pujar por los recursos de computación EC2 no utilizados.
    
    Sin embargo, su recurso no está garantizado por un período de tiempo fijo. 
    
    Para utilizar una instancia de punto EC2, debe realizar una puja mayor que el precio spot actual fijado por AWS. 
    
    Este precio spot varía dependiendo de la oferta y la demanda del recurso no utilizado. 
    
    Si el precio de la oferta para un tipo de instancia es mayor que el precio al contado, entonces comprará la instancia.
    
    Pero tan pronto como su precio de la oferta se haga más bajo que el precio al contado fluctuante, se le emitirá una advertencia de dos minutos antes de que la instancia sea automáticamente terminada y eliminada de su entorno por AWS. 
    
    La ventaja de las instancias puntuales es que puedes pujar por grandes instancias de EC2 a un precio muy bajo, ahorrando una cantidad enorme. 
    Sin embargo, debido a la naturaleza de cómo las instancias pueden ser eliminadas de repente de su entorno, las instancias puntuales sólo son útiles para el procesamiento de datos y aplicaciones que pueden interrumpirse repentinamente, como los trabajos por lotes y el procesamiento en segundo plano de los datos.



---
## Opciones de Almacenamiento

### Amazon EBS

Amazon EBS ofrece los siguientes tipos de volumen, que difieren en las características de rendimiento y el precio, de modo que puede adaptar el rendimiento de almacenamiento y el costo a las necesidades de sus aplicaciones. 
Los tipos de volúmenes se dividen en dos categorías:

* Volúmenes respaldados por SSD.

    Optimizados para cargas de trabajo transaccionales que implican operaciones de lectura / escritura frecuentes con tamaño de E / S pequeño, donde el atributo de rendimiento dominante es IOPS
    Apunta a rendimiento-performance, por sobre procesamiento de grandes cargas de trabajo.

    Aquí se encuentran los siguientes tipos de volúmenes:
    * <u>SSD de Propósito General (gp2)</u>
        
        Volumen SSD de uso general que equilibra el precio y el rendimiento para una amplia variedad de cargas de trabajo transaccionales

        Caso de uso:
        * Recomendado para la mayoría de las cargas de trabajo.
        * Volúmenes de arranque del sistema
        * Escritorios virtuales
        * Aplicaciones interactivas de baja latencia
        * Entornos de desarrollo y prueba

        ![alt text](./images/EC2_GP2.png)

    * <u>SSD con IOPS Provisionados (io1)</u>
    
        Volumen SSD de mayor rendimiento diseñado para aplicaciones de misión crítica

        Caso de uso:
        
        * Aplicaciones empresariales críticas que requieren un rendimiento IOPS sostenido, o más    de 10.000 IOPS o 160 MiB / s de rendimiento por volumen. Pensado para grandes cargas de   trabajo de bases de datos, tales como: 
        * MongoDB
        * Cassandra 
        * Microsoft SQL Server 
        * MySQL 
        * PostgreSQL 
        * Oracle

        ![alt text](./images/EC2_GP1.png)



* Volúmenes respaldados por HDD.

    Optimizados para grandes cargas de trabajo de flujo continuo donde el rendimiento (medido en MiB / s) es una mejor medida de rendimiento que IOPS

    Apunta a procesamiento de grandes cargas de datos.

    * <u>HDD con Rendimiento Optimizado (st1)</u>
        
        Volumen de disco duro de bajo costo diseñado para cargas de trabajo de uso frecuente

        Casos de uso:
        * Transmisión de cargas de trabajo que requieren un rendimiento constante y rápido a un     precio bajo. 
        * Pensado para Gran cantidad de datos. 
        * Almacenes de datos. 
        * Procesamiento de registros. 
        * No puede ser un volumen de arranque.

        ![alt text](./images/EC2_ST1.png)


    * <u>HDD frío (sc1)</u>
    
        Volumen de HDD de menor costo diseñado para cargas de trabajo de acceso menos frecuente

        Casos de uso:
        * Almacenamiento orientado al rendimiento para grandes volúmenes de datos a los que se accede con poca frecuencia. 
        * Escenarios donde el menor costo de almacenamiento es importante No puede ser un volumen de arranque.

        ![alt text](./images/EC2_SC1.png)



### ¿ Que son las IOPS ?

Las IOPS son una unidad de medida que representa las operaciones de entrada / salida por segundo. 

Las operaciones se miden en KiB y la tecnología de accionamiento subyacente determina la cantidad máxima de datos que un tipo de volumen cuenta como una sola E / S. 

El tamaño de E / S tiene un ***límite de 256 KiB para volúmenes SSD*** y ***1.024 KiB para volúmenes HDD***, ya que los volúmenes SSD manejan E / S pequeñas o aleatorias mucho más eficientemente que los volúmenes HDD.

Cuando las operaciones de E / S pequeñas son físicamente contiguas, Amazon EBS intenta combinarlas en una sola E / S hasta el tamaño máximo. 

<u>Ejemplos:</u>
* Para volúmenes SSD, una sola operación de E / S de 1.024 KiB cuenta como 4 operaciones.
  (1.024 ÷ 256 = 4)

* Mientras que 8 operaciones de E / S contiguas a 32 KiB cuentan como 1operación (8 × 32 = 256). 

* Sin embargo, 8 operaciones de E / S al azar a 32 KiB cada cuenta como 8 operaciones. 
 Cada operación de E / S inferior a 32 KiB cuenta como 1 operación.



### Manejo de Snapshots
AKKKKKKKKKK

Refs:
[Object Lifecycle Management](
http://docs.aws.amazon.com/es_es/AmazonS3/latest/dev/object-lifecycle-mgmt.html)
[Setting Lifecycle Configuration On a Bucket](http://docs.aws.amazon.com/es_es/AmazonS3/latest/dev/how-to-set-lifecycle-configuration-intro.html)
[Set Lifecycle Configuration Using the AWS CLI](http://docs.aws.amazon.com/es_es/AmazonS3/latest/dev/set-lifecycle-cli.html)

---
| [< Anterior](https://github.com/conapps/conapps-iot/blob/master/AWS%20Cloud/S3/20170807_AWS_S3.md) | [Siguiente >](https://github.com/conapps/conapps-iot/blob/master/AWS%20Cloud/S3/20170812_AWS_S3_Parte_3.md)|
